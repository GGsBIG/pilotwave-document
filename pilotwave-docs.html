<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilotwave + Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DFKai-SB', '標楷體', 'BiauKai', 'Kai', serif;
            background-color: #f5f5f5;
            font-size: 19px;
            font-weight: bold;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            color: #333;
            padding: 12px 24px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-bottom: 1px solid #e0e0e0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background-color: #dc3545;
            color: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .logo-text {
            font-size: 18px;
            font-weight: 600;
            color: #333;
        }

        .context-info {
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 14px;
            color: #666;
        }

        .context-value {
            color: #dc3545;
            font-weight: 500;
        }

        /* Main Content */
        .main-content {
            display: flex;
            min-height: calc(100vh - 60px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background-color: white;
            border-right: 1px solid #e0e0e0;
            box-shadow: 2px 0 4px rgba(0,0,0,0.05);
        }

        .sidebar-header {
            padding: 20px 24px 16px;
            border-bottom: 1px solid #e0e0e0;
        }

        .sidebar-header h3 {
            font-size: 16px;
            font-weight: 600;
            color: #424242;
        }

        .sidebar-sections {
            padding: 8px 0;
        }

        .sidebar-item {
            display: flex;
            align-items: center;
            padding: 12px 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
            gap: 12px;
        }

        .sidebar-item:hover {
            background-color: #f5f5f5;
        }

        .sidebar-item.active {
            background-color: #fff5f5;
            border-left-color: #dc3545;
            color: #dc3545;
        }


        .sidebar-title {
            flex: 1;
            font-size: 18px;
            font-weight: bold;
        }

        .sidebar-arrow {
            font-size: 10px;
            color: #bdbdbd;
            transition: transform 0.2s ease;
        }

        .sidebar-item.active .sidebar-arrow {
            transform: rotate(90deg);
            color: #dc3545;
        }

        .sidebar-item.expanded .sidebar-arrow {
            transform: rotate(90deg);
        }

        .sidebar-item.expanded.active {
            background-color: #fff5f5;
            border-left-color: #dc3545;
            color: #dc3545;
        }

        .sidebar-subitems {
            display: none;
            padding-left: 20px;
            background-color: #f8f9fa;
        }

        .sidebar-subitems.expanded {
            display: block;
        }

        .sidebar-subitem {
            display: flex;
            align-items: center;
            padding: 8px 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 17px;
            color: #666;
            font-weight: bold;
        }

        .sidebar-subitem:hover {
            background-color: #e9ecef;
        }

        .sidebar-subitem.active {
            background-color: #fff5f5;
            color: #dc3545;
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 20px;
            background-color: white;
            margin: 0;
            border-radius: 0;
            box-shadow: none;
        }

        .content-header {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 2px solid #e0e0e0;
        }

        .content-header h1 {
            font-size: 39px;
            font-weight: bold;
            color: #212121;
            margin-bottom: 8px;
        }

        .content-subtitle {
            font-size: 21px;
            color: #757575;
            line-height: 1.5;
            font-weight: bold;
        }

        /* Content Sections */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }
        
        .example-content {
            display: none;
        }
        
        .example-content.active {
            display: block;
        }

        .content-section h2 {
            font-size: 24px;
            font-weight: 600;
            color: #333;
            margin-bottom: 24px;
        }

        .content-placeholder {
            background-color: #fff5f5;
            border: 2px dashed #fecaca;
            border-radius: 8px;
            padding: 48px 24px;
            text-align: center;
            color: #dc3545;
            font-size: 16px;
            line-height: 1.6;
        }

        /* Installation Content Styles */
        .installation-content {
            max-width: 800px;
        }

        .installation-content h1 {
            color: #333;
            font-size: 35px;
            margin-bottom: 32px;
            font-weight: bold;
        }

        .installation-content h3 {
            color: #333;
            font-size: 23px;
            margin-bottom: 24px;
            font-weight: bold;
        }

        .installation-content h4 {
            color: #333;
            font-size: 24px;
            margin: 24px 0 12px 0;
            font-weight: bold;
        }

        .installation-content p {
            margin: 8px 0;
            line-height: 1.6;
            color: #333;
            font-size: 19px;
            font-weight: bold;
        }

        .installation-content ul {
            margin: 8px 0;
            padding-left: 24px;
        }

        .installation-content li {
            margin: 4px 0;
            line-height: 1.6;
            font-size: 19px;
            font-weight: bold;
        }

        .installation-content code {
            background-color: #f8f9fa;
            color: #333;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', 'DFKai-SB', monospace;
            font-size: 18px;
            font-weight: bold;
        }

        .installation-content kbd {
            background-color: #333;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', 'DFKai-SB', monospace;
            font-size: 15px;
            font-weight: bold;
        }

        .installation-content strong {
            color: #333;
            font-weight: bold;
        }

        .step-image {
            margin: 16px 0;
            text-align: center;
        }

        .step-text-content {
            flex: 0 0 auto;
            margin-bottom: 10px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease 0.1s, transform 0.4s ease 0.1s;
        }

        .step-text-content.active {
            opacity: 1;
            transform: translateY(0);
        }

        .step-image {
            position: relative;
            text-align: left;
            opacity: 0;
            transform: translateX(30px);
            transition: opacity 0.4s ease, transform 0.4s ease;
            margin: 5px 0 0 0;
        }

        .step-image.active {
            opacity: 1;
            transform: translateX(0);
        }

        .step-image img {
            width: 91%;
            height: auto;
            max-width: 913px;
        }

        @media (max-width: 768px) {
            .step-image img {
                width: 126.75%;
                max-width: 608px;
            }
        }

        /* Step-by-Step Interface */
        .step-by-step-container {
            max-width: 1200px;
            margin: 0;
            padding: 20px;
        }

        .step-header {
            text-align: left;
            margin-bottom: 30px;
        }

        .step-header h1 {
            color: #333;
            font-size: 35px;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .step-progress {
            margin-bottom: 10px;
        }

        .current-step {
            font-size: 18px;
            font-weight: bold;
            color: #666;
            margin-bottom: 10px;
            display: block;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: #dc3545;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .step-content {
            height: auto;
            min-height: 500px;
            background-color: transparent;
            border-radius: 0;
            box-shadow: none;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        .step-content h4 {
            color: #333;
            font-size: 24px;
            margin-bottom: 12px;
            font-weight: bold;
        }

        .step-content p {
            font-size: 19px;
            line-height: 1.3;
            color: #333;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .step-content ul {
            margin: 15px 0;
            padding-left: 30px;
        }

        .step-content li {
            font-size: 19px;
            line-height: 1.6;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .step-content code {
            background-color: transparent;
            color: #333;
            padding: 0;
            border-radius: 0;
            font-family: 'DFKai-SB', '標楷體', 'BiauKai', 'Kai', serif;
            font-size: 19px;
            font-weight: bold;
        }

        .step-content kbd {
            background-color: #333;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', 'DFKai-SB', monospace;
            font-size: 15px;
            font-weight: bold;
        }

        .step-navigation {
            position: relative;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: transparent;
            padding: 0;
            border-radius: 0;
            box-shadow: none;
            z-index: 1000;
            margin-top: -10px;
        }
        
        .next-btn {
            background-color: #dc3545;
            color: white;
            margin-right: 247px;
        }

        @media (max-width: 768px) {
            .step-navigation {
                bottom: 20px;
                gap: 50px;
            }
            
            .nav-btn {
                padding: 12px 20px;
                font-size: 14px;
                width: 120px;
                text-align: center;
            }
        }

        .nav-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 120px;
            text-align: center;
        }

        .prev-btn {
            background-color: #6c757d;
            color: white;
            margin-left: 0px;
        }

        .prev-btn:hover:not(:disabled) {
            background-color: #5a6268;
        }


        .next-btn:hover {
            background-color: #c82333;
        }

        .nav-btn:disabled {
            background-color: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 1400px) {
            html {
                font-size: 90%;
            }
        }
        
        @media (max-width: 1200px) {
            html {
                font-size: 85%;
            }
            
            .step-by-step-container {
                max-width: 1000px;
            }
        }
        
        @media (max-width: 1024px) {
            html {
                font-size: 80%;
            }
            
            .step-by-step-container {
                max-width: 900px;
            }
            
            .step-image img {
                width: 95%;
            }
        }
        
        @media (max-width: 768px) {
            html {
                font-size: 75%;
            }
            
            .main-content {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                order: 2;
            }
            
            .content-area {
                margin: 16px 16px 0 16px;
                padding: 24px;
            }
            
            .header {
                flex-direction: column;
                gap: 12px;
                text-align: center;
            }
            
            .step-by-step-container {
                max-width: 100%;
                padding: 15px;
            }
            
            .step-image img {
                width: 100%;
            }
        }
        
        @media (max-width: 480px) {
            html {
                font-size: 70%;
            }
            
            .nav-btn {
                width: 100px;
                padding: 8px 15px;
                font-size: 12px;
            }
            
            .step-navigation {
                margin-top: -15px;
            }
        }
        
        @media (max-height: 600px) {
            html {
                font-size: 65%;
            }
            
            .step-header h1 {
                font-size: 28px;
                margin-bottom: 5px;
            }
            
            .step-content {
                min-height: 350px;
            }
            
            .nav-btn {
                padding: 6px 12px;
                font-size: 12px;
            }
        }
        
        @media (max-height: 700px) {
            .step-content {
                min-height: 400px;
            }
        }
        
        @media (max-height: 800px) {
            .step-content {
                min-height: 450px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">
            <div class="logo-icon">P+</div>
            <span class="logo-text">Pilotwave +</span>
        </div>
        <div class="context-info">
            <span class="context-label">Current context: </span>
            <span class="context-value">Documentation</span>
        </div>
    </div>

    <div class="main-content">
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>Documentation</h3>
            </div>
            <div class="sidebar-sections">
                <div class="sidebar-item" onclick="toggleSection('installation')">
                    <span class="sidebar-title">Installation</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-item" onclick="toggleSection('cluster')">
                    <span class="sidebar-title">Cluster</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-item" onclick="toggleSection('service-mesh')">
                    <span class="sidebar-title">Service Mesh</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-item" onclick="toggleSection('extensions')">
                    <span class="sidebar-title">Extensions</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-item active expanded" onclick="toggleSection('examples')">
                    <span class="sidebar-title">Examples</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-subitems expanded">
                    <div class="sidebar-subitem active" onclick="showSubSection('examples', 'grafana')">
                        <span class="sidebar-title">Deploy & Upgrade Grafana</span>
                    </div>
                    <div class="sidebar-subitem" onclick="showSubSection('examples', 'ai-application')">
                        <span class="sidebar-title">AI Application</span>
                    </div>
                </div>
                <div class="sidebar-item" onclick="toggleSection('migration')">
                    <span class="sidebar-title">Migration</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
                <div class="sidebar-item" onclick="toggleSection('faq')">
                    <span class="sidebar-title">FAQ</span>
                    <span class="sidebar-arrow">▶</span>
                </div>
            </div>
        </div>

        <div class="content-area">
            <div id="installation" class="content-section">
                <h2>Installation</h2>
                <div class="content-placeholder">
                    <p>Installation content will be displayed here...</p>
                </div>
            </div>

            <div id="cluster" class="content-section">
                <h2>Cluster Management</h2>
                <div class="content-placeholder">
                    <p>Cluster management content will be displayed here...</p>
                </div>
            </div>

            <div id="service-mesh" class="content-section">
                <h2>Service Mesh</h2>
                <div class="content-placeholder">
                    <p>Service mesh content will be displayed here...</p>
                </div>
            </div>

            <div id="extensions" class="content-section">
                <h2>Extensions</h2>
                <div class="content-placeholder">
                    <p>Extensions content will be displayed here...</p>
                </div>
            </div>

            <div id="examples" class="content-section active">
                <!-- Grafana Example Content -->
                <div id="grafana-content" class="example-content active">
                    <div class="step-by-step-container">
                        <div class="step-header">
                            <h1>Pilotwave helm deploy & upgrade grafana</h1>
                            <div class="step-progress">
                                <span class="current-step">Step <span id="current-step-number">1</span> of 26</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progress-fill"></div>
                                </div>
                            </div>
                        </div>

                        <div class="step-content" id="step-content">
                            <!-- Step content will be populated by JavaScript -->
                        </div>

                        <div class="step-navigation">
                            <button class="nav-btn prev-btn" id="prev-btn" onclick="previousStep()" disabled>
                                ← Previous
                            </button>
                            <button class="nav-btn next-btn" id="next-btn" onclick="nextStep()">
                                Next →
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- AI Application Content -->
                <div id="ai-application-content" class="example-content">
                    <div class="step-by-step-container">
                        <div class="step-header">
                            <h1>Pilotwave AI Application</h1>
                            <div class="step-progress">
                                <span class="current-step">Step <span id="ai-current-step-number">1</span> of 4</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="ai-progress-fill"></div>
                                </div>
                            </div>
                        </div>

                        <div class="step-content" id="ai-step-content">
                            <!-- Step content will be populated by JavaScript -->
                        </div>

                        <div class="step-navigation">
                            <button class="nav-btn prev-btn" id="ai-prev-btn" onclick="aiPreviousStep()" disabled>
                                ← Previous
                            </button>
                            <button class="nav-btn next-btn" id="ai-next-btn" onclick="aiNextStep()">
                                Next →
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="migration" class="content-section">
                <h2>Migration</h2>
                <div class="content-placeholder">
                    <p>Migration content will be displayed here...</p>
                </div>
            </div>

            <div id="faq" class="content-section">
                <h2>FAQ</h2>
                <div class="content-placeholder">
                    <p>FAQ content will be displayed here...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Step-by-step data - one action per step
        const steps = [
            {
                title: "Step 1: Access Helm App Store",
                content: `
                    <div class="step-text-content">
                        <h4>Step 1: Access Helm App Store</h4>
                        <p>Enter the initial page and click on Helm App Store</p>
                    </div>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-01.png" alt="Grafana Step 1" />
                    </div>
                `
            },
            {
                title: "Step 2: Navigate to Helm Charts",
                content: `
                    <div class="step-text-content">
                        <h4>Step 2: Navigate to Helm Charts</h4>
                        <p>Click on the dropdown menu of Helm App Store and select Helm Charts</p>
                    </div>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-02.png" alt="Grafana Step 3" />
                    </div>
                `
            },
            {
                title: "Step 3: Click Add Repository",
                content: `
                    <div class="step-text-content">
                        <h4>Step 3: Click Add Repository</h4>
                        <p>Click Add Repository in the top right corner</p>
                    </div>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-03.png" alt="Grafana Step 4" />
                    </div>
                `
            },
            {
                title: "Step 4: Fill Repository URL",
                content: `
                    <div class="step-text-content">
                        <h4>Step 4: Fill Repository URL</h4>
                        <p>Fill in the Repository URL with: <code>https://grafana.github.io/helm-charts</code>, Click Add Repository</p>
                    </div>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-04.png" alt="Grafana Step 5" />
                    </div>
                `
            },
            {
                title: "Step 5: Select Grafana Chart",
                content: `
                    <div class="step-text-content">
                        <h4>Step 5: Select Grafana Chart</h4>
                        <p>Click on helm-charts/grafana</p>
                    </div>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-05.png" alt="Grafana Step 6" />
                    </div>
                `
            },
            {
                title: "Step 6: Deploy Chart",
                content: `
                    <div class="step-text-content">
                        <h4>Step 6: Deploy Chart</h4>
                    <p>Click Deploy Chart</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-06.png" alt="Grafana Step 7" />
                    </div>
                `
            },
            {
                title: "Step 7: Configure Release",
                content: `
                    <div class="step-text-content">
                        <h4>Step 7: Configure Release</h4>
                    <p>Fill in the Release Name, Choose whether to create namespace, Click Load Default Values, Click Deploy Chart</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-07.png" alt="Grafana Step 8" />
                    </div>
                `
            },
            {
                title: "Step 8: Deploy Success",
                content: `
                    <div class="step-text-content">
                        <h4>Step 8: Deploy Success</h4>
                    <p>Deployed Successfully</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-08.png" alt="Grafana Step 9" />
                    </div>
                `
            },
            {
                title: "Step 9: Close Dialog",
                content: `
                    <div class="step-text-content">
                        <h4>Step 9: Close Dialog</h4>
                    <p>Close the dialog by clicking the X in the top right corner</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-09.png" alt="Grafana Step 10" />
                    </div>
                `
            },
            {
                title: "Step 10: Access Helm Releases",
                content: `
                    <div class="step-text-content">
                        <h4>Step 10: Access Helm Releases</h4>
                    <p>Click Helm Releases</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-10.png" alt="Grafana Step 11" />
                    </div>
                `
            },
            {
                title: "Step 11: Select Grafana Entry",
                content: `
                    <div class="step-text-content">
                        <h4>Step 11: Select Grafana Entry</h4>
                    <p>Click on the grafana entry</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-11.png" alt="Grafana Step 12" />
                    </div>
                `
            },
            {
                title: "Step 12: Click Upgrade",
                content: `
                    <div class="step-text-content">
                        <h4>Step 12: Click Upgrade</h4>
                    <p>Click upgrade</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-12.png" alt="Grafana Step 13" />
                    </div>
                `
            },
            {
                title: "Step 13: Select Chart to Upgrade",
                content: `
                    <div class="step-text-content">
                        <h4>Step 13: Select Chart to Upgrade</h4>
                    <p>Click Select Chart to Upgrade To, choose helm-charts/grafana (helm-charts)</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-13.png" alt="Grafana Step 15" />
                    </div>
                `
            },
            {
                title: "Step 14: Load Current Values",
                content: `
                    <div class="step-text-content">
                        <h4>Step 14: Load Current Values</h4>
                    <p>Click Load Current Values</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-14.png" alt="Grafana Step 16" />
                    </div>
                `
            },
            {
                title: "Step 15: Search for ClusterIP",
                content: `
                    <div class="step-text-content">
                        <h4>Step 15: Search for ClusterIP</h4>
                    <p>In the Values (YAML) section, press <kbd>Cmd + F</kbd> to search for <code>ClusterIP</code></p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-15.png" alt="Grafana Step 18" />
                    </div>
                `
            },
            {
                title: "Step 16: Change to NodePort",
                content: `
                    <div class="step-text-content">
                        <h4>Step 16: Change to NodePort</h4>
                    <p>Replace <code>ClusterIP</code> to <code>NodePort</code>, Click Upgrade Release</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-16.png" alt="Grafana Step 19" />
                    </div>
                `
            },
            {
                title: "Step 17: Navigate to Services",
                content: `
                    <div class="step-text-content">
                        <h4>Step 17: Navigate to Services</h4>
                    <p>Click on Network in the left sidebar, then click Services</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-17.png" alt="Grafana Step 20" />
                    </div>
                `
            },
            {
                title: "Step 18: Search Services",
                content: `
                    <div class="step-text-content">
                        <h4>Step 18: Search Services</h4>
                    <p>Click the magnifying glass icon to search grafana</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-18.png" alt="Grafana Step 24" />
                    </div>
                `
            },
            {
                title: "Step 19: Find Grafana NodePort",
                content: `
                    <div class="step-text-content">
                        <h4>Step 19: Find Grafana NodePort</h4>
                    <p>See which NodePort the Grafana interface is using</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-19.png" alt="Grafana Step 26" />
                    </div>
                `
            },
            {
                title: "Step 20: Access Grafana Web Interface",
                content: `
                    <div class="step-text-content">
                        <h4>Step 20: Access Grafana Web Interface</h4>
                    <p>Access the Grafana web interface at: <code>$ClusterIP:$NodePort</code></p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-20.png" alt="Grafana Step 26" />
                    </div>
                `
            },
            {
                title: "Step 21: Search for Grafana Secret",
                content: `
                    <div class="step-text-content">
                        <h4>Step 21: Search for Grafana Secret</h4>
                    <p>Return to the Pilotwave web interface, Press the <kbd>/</kbd> key to search for <code>grafana</code>, Click on grafana Secret</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-21.png" alt="Grafana Step 29" />
                    </div>
                `
            },
            {
                title: "Step 22: Show Decoded Password",
                content: `
                    <div class="step-text-content">
                        <h4>Step 22: Show Decoded Password</h4>
                    <p>Click Show Decoded</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-22.png" alt="Grafana Step 30" />
                    </div>
                `
            },
            {
                title: "Step 23: Copy Password",
                content: `
                    <div class="step-text-content">
                        <h4>Step 23: Copy Password</h4>
                    <p>Copy the grafana password</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-23.png" alt="Grafana Step 31" />
                    </div>
                `
            },
            {
                title: "Step 24: Enter Login Credentials",
                content: `
                    <div class="step-text-content">
                        <h4>Step 24: Enter Login Credentials</h4>
                    <p>Fill in the login credentials: Email or username: <code>admin</code>, Password: [paste the copied grafana password]</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-32.png" alt="Grafana Step 32" />
                    </div>
                `
            },
            {
                title: "Step 25: Login Success",
                content: `
                    <div class="step-text-content">
                        <h4>Step 25: Login Success</h4>
                    <p>Login Success - You can now access Grafana!</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-33.png" alt="Grafana Step 33" />
                    </div>
                `
            },
            {
                title: "Step 26: Grafana Dashboard",
                content: `
                    <div class="step-text-content">
                        <h4>Step 26: Grafana Dashboard</h4>
                    <p>Welcome to Grafana! You have successfully deployed Grafana.</p>
                    </div>
                    <div class="step-image">
                        <img src="images/grafana-images/grafana-step-34.png" alt="Grafana Step 34" />
                    </div>
                `
            }
        ];

        // AI Application steps
        const aiSteps = [
            {
                title: "Step 1: Call AI Assistant",
                content: `
                    <div class="step-text-content">
                        <h4>Step 1: Call AI Assistant</h4>
                        <p>Press Command + I to call AI assistant or click the AI icon in the bottom right corner</p>
                    </div>
                    <div class="step-image">
                        <img src="images/ai-application-images/ai-application-01.png" alt="AI Application Step 1" />
                    </div>
                `
            },
            {
                title: "Step 2: AI Assistant Activated",
                content: `
                    <div class="step-text-content">
                        <h4>Step 2: AI Assistant Activated</h4>
                        <p>Successfully activate the AI assistant interface</p>
                    </div>
                    <div class="step-image">
                        <img src="images/ai-application-images/ai-application-02.png" alt="AI Application Step 2" />
                    </div>
                `
            },
            {
                title: "Step 3: Query Grafana Information",
                content: `
                    <div class="step-text-content">
                        <h4>Step 3: Query Grafana Information</h4>
                        <p>Type "grafana" to query and view Grafana-related content</p>
                    </div>
                    <div class="step-image">
                        <img src="images/ai-application-images/ai-application-03.png" alt="AI Application Step 3" />
                    </div>
                `
            },
            {
                title: "Step 4: Get Grafana Information",
                content: `
                    <div class="step-text-content">
                        <h4>Step 4: Get Grafana Information</h4>
                        <p>Successfully retrieve and display Grafana information</p>
                    </div>
                    <div class="step-image">
                        <img src="images/ai-application-images/ai-application-04.png" alt="AI Application Step 4" />
                    </div>
                `
            }
        ];

        let currentStep = 0;
        let aiCurrentStep = 0;

        function updateStep() {
            // Update step content
            document.getElementById('step-content').innerHTML = steps[currentStep].content;
            
            // Add active class to trigger animations after a short delay
            setTimeout(() => {
                const textContent = document.querySelector('.step-text-content');
                const imageContent = document.querySelector('.step-image');
                
                if (textContent) textContent.classList.add('active');
                if (imageContent) imageContent.classList.add('active');
            }, 50);
            
            // Update step number and progress
            document.getElementById('current-step-number').textContent = currentStep + 1;
            const progressPercent = ((currentStep + 1) / steps.length) * 100;
            document.getElementById('progress-fill').style.width = progressPercent + '%';
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentStep === 0;
            document.getElementById('next-btn').disabled = currentStep === steps.length - 1;
            
            if (currentStep === steps.length - 1) {
                document.getElementById('next-btn').textContent = 'Complete';
            } else {
                document.getElementById('next-btn').textContent = 'Next →';
            }
        }

        function nextStep() {
            if (currentStep < steps.length - 1) {
                currentStep++;
                updateStep();
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                currentStep--;
                updateStep();
            }
        }

        // AI Application functions
        function updateAIStep() {
            // Update step content
            document.getElementById('ai-step-content').innerHTML = aiSteps[aiCurrentStep].content;
            
            // Add active class to trigger animations after a short delay
            setTimeout(() => {
                const textContent = document.querySelector('#ai-step-content .step-text-content');
                const imageContent = document.querySelector('#ai-step-content .step-image');
                
                if (textContent) textContent.classList.add('active');
                if (imageContent) imageContent.classList.add('active');
            }, 50);
            
            // Update step number and progress
            document.getElementById('ai-current-step-number').textContent = aiCurrentStep + 1;
            const progressPercent = ((aiCurrentStep + 1) / aiSteps.length) * 100;
            document.getElementById('ai-progress-fill').style.width = progressPercent + '%';
            
            // Update navigation buttons
            document.getElementById('ai-prev-btn').disabled = aiCurrentStep === 0;
            document.getElementById('ai-next-btn').disabled = aiCurrentStep === aiSteps.length - 1;
            
            if (aiCurrentStep === aiSteps.length - 1) {
                document.getElementById('ai-next-btn').textContent = 'Complete';
            } else {
                document.getElementById('ai-next-btn').textContent = 'Next →';
            }
        }

        function aiNextStep() {
            if (aiCurrentStep < aiSteps.length - 1) {
                aiCurrentStep++;
                updateAIStep();
            }
        }

        function aiPreviousStep() {
            if (aiCurrentStep > 0) {
                aiCurrentStep--;
                updateAIStep();
            }
        }

        // Initialize first step and responsive scaling
        document.addEventListener('DOMContentLoaded', function() {
            updateStep();
            handleResponsiveScaling();
            window.addEventListener('resize', handleResponsiveScaling);
        });
        
        function handleResponsiveScaling() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            const body = document.body;
            
            // 移除所有現有的縮放類別
            body.classList.remove('scale-90', 'scale-85', 'scale-80', 'scale-75', 'scale-70', 'scale-65');
            
            // 計算縮放比例，同時考慮寬度和高度
            let scale = 1;
            
            // 根據寬度計算縮放
            if (width <= 480) {
                scale = Math.min(scale, 0.7);
            } else if (width <= 768) {
                scale = Math.min(scale, 0.75);
            } else if (width <= 1024) {
                scale = Math.min(scale, 0.8);
            } else if (width <= 1200) {
                scale = Math.min(scale, 0.85);
            } else if (width <= 1400) {
                scale = Math.min(scale, 0.9);
            }
            
            // 根據高度進一步調整縮放
            if (height <= 600) {
                scale = Math.min(scale, 0.65);
            } else if (height <= 700) {
                scale = Math.min(scale, 0.7);
            } else if (height <= 800) {
                scale = Math.min(scale, 0.75);
            } else if (height <= 900) {
                scale = Math.min(scale, 0.8);
            }
            
            // 應用縮放
            if (scale <= 0.65) {
                body.classList.add('scale-65');
            } else if (scale <= 0.7) {
                body.classList.add('scale-70');
            } else if (scale <= 0.75) {
                body.classList.add('scale-75');
            } else if (scale <= 0.8) {
                body.classList.add('scale-80');
            } else if (scale <= 0.85) {
                body.classList.add('scale-85');
            } else if (scale <= 0.9) {
                body.classList.add('scale-90');
            }
        }

        function toggleSection(sectionId) {
            const sidebarItem = event.currentTarget;
            const subitems = sidebarItem.nextElementSibling;
            
            // First, close all other sections
            closeAllOtherSections(sectionId);
            
            if (subitems && subitems.classList.contains('sidebar-subitems')) {
                // Toggle expanded state
                sidebarItem.classList.toggle('expanded');
                subitems.classList.toggle('expanded');
                
                // Handle active state properly
                if (sidebarItem.classList.contains('expanded')) {
                    // When expanding, add active state
                    sidebarItem.classList.add('active');
                } else {
                    // When collapsing, remove active state and background
                    sidebarItem.classList.remove('active');
                    // Also remove active from subitems
                    const activeSubitems = subitems.querySelectorAll('.sidebar-subitem.active');
                    activeSubitems.forEach(subitem => {
                        subitem.classList.remove('active');
                    });
                }
            } else {
                // If no subitems, show the section directly
                showSection(sectionId);
            }
        }

        function closeAllOtherSections(currentSectionId) {
            const allSidebarItems = document.querySelectorAll('.sidebar-item');
            const allSubitems = document.querySelectorAll('.sidebar-subitems');
            
            allSidebarItems.forEach(item => {
                const itemText = item.querySelector('.sidebar-title').textContent.toLowerCase();
                const itemId = itemText.replace(/\s+/g, '-');
                
                if (itemId !== currentSectionId) {
                    item.classList.remove('active', 'expanded');
                }
            });
            
            allSubitems.forEach(subitems => {
                const parentItem = subitems.previousElementSibling;
                const parentText = parentItem.querySelector('.sidebar-title').textContent.toLowerCase();
                const parentId = parentText.replace(/\s+/g, '-');
                
                if (parentId !== currentSectionId) {
                    subitems.classList.remove('expanded');
                    // Remove active from all subitems
                    const activeSubitems = subitems.querySelectorAll('.sidebar-subitem.active');
                    activeSubitems.forEach(subitem => {
                        subitem.classList.remove('active');
                    });
                }
            });
        }

        function showSubSection(mainSection, subSection) {
            // Show the main section content
            showSection(mainSection);
            
            // Update subsection active state
            const subItems = document.querySelectorAll('.sidebar-subitem');
            subItems.forEach(item => {
                item.classList.remove('active');
            });
            
            event.currentTarget.classList.add('active');
            
            // Show specific subsection content
            const exampleContents = document.querySelectorAll('.example-content');
            exampleContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Show the selected subsection content
            const targetContent = document.getElementById(subSection + '-content');
            if (targetContent) {
                targetContent.classList.add('active');
                
                // Initialize the appropriate step function
                if (subSection === 'grafana') {
                    setTimeout(() => updateStep(), 100);
                } else if (subSection === 'ai-application') {
                    setTimeout(() => updateAIStep(), 100);
                }
            }
        }

        function showSection(sectionId) {
            // Hide all content sections
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });

            // Show selected content section
            document.getElementById(sectionId).classList.add('active');

            // Close all other sections first
            if (event && event.currentTarget) {
                closeAllOtherSections(sectionId);
            }

            // Add active class to the clicked item (if it's a direct section)
            if (event && event.currentTarget && event.currentTarget.classList.contains('sidebar-item')) {
                event.currentTarget.classList.add('active');
            }
        }
    </script>
</body>
</html>